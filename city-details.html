<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© - Ø³ÙØ§Ø±</title>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700&family=Cairo:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        :root {
            --madina-green: #1a5f3a;
            --madina-gold: #d4af37;
            --madina-light: #f8f9fa;
            --madina-dark: #0d2e1a;
            --madina-accent: #2d7d4a;
            --madina-text: #2c3e50;
            --madina-shadow: rgba(26, 95, 58, 0.1);
        }

        body {
            font-family: 'Cairo', 'Outfit', sans-serif;
            background: linear-gradient(135deg, var(--madina-green) 0%, var(--madina-dark) 100%);
            color: white;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        /* Floating Elements */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .floating-element {
            position: absolute;
            opacity: 0.8;
            font-size: 2rem;
            filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.3));
            transition: all 0.3s ease;
        }

        .floating-element:nth-child(1) {
            top: 20%;
            left: 10%;
            animation: float1 8s ease-in-out infinite;
        }

        .floating-element:nth-child(2) {
            top: 60%;
            right: 15%;
            animation: float2 6s ease-in-out infinite;
        }

        .floating-element:nth-child(3) {
            bottom: 30%;
            left: 20%;
            animation: float3 10s ease-in-out infinite;
        }

        @keyframes float1 {
            0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
            50% { transform: translateY(-30px) rotate(5deg) scale(1.1); }
        }

        @keyframes float2 {
            0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
            50% { transform: translateY(-25px) rotate(-3deg) scale(1.05); }
        }

        @keyframes float3 {
            0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
            50% { transform: translateY(-35px) rotate(8deg) scale(1.15); }
        }

        .city-details-page {
            padding: 2rem;
            position: relative;
            z-index: 2;
        }

        .city-details-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .city-full-details {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 3rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            color: white;
        }

        .loading-spinner {
            text-align: center;
            font-size: 1.2rem;
            color: var(--madina-gold);
            padding: 2rem;
        }

        .city-hero {
            text-align: center;
            margin-bottom: 3rem;
        }

        .city-hero h1 {
            font-size: 3rem;
            font-weight: 900;
            color: var(--madina-gold);
            margin-bottom: 1rem;
        }

        .city-hero p {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 2rem;
        }

        .city-image {
            width: 100%;
            max-width: 600px;
            height: 300px;
            object-fit: cover;
            border-radius: 20px;
            margin-bottom: 2rem;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .city-sections {
            display: grid;
            gap: 2rem;
        }

        .city-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .city-section h2 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--madina-gold);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .hotels-grid, .guides-grid, .landmarks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .hotel-card, .guide-card, .landmark-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .hotel-card:hover, .guide-card:hover, .landmark-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(26, 95, 58, 0.3);
        }

        .hotel-card h3, .guide-card h3, .landmark-card h3 {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--madina-gold);
            margin-bottom: 1rem;
        }

        .hotel-card p, .guide-card p, .landmark-card p {
            opacity: 0.9;
            line-height: 1.6;
        }

        .landmark-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .city-details-page {
                padding: 1rem;
            }
            
            .city-full-details {
                padding: 2rem;
            }
            
            .city-hero h1 {
                font-size: 2.5rem;
            }
            
            .hotels-grid, .guides-grid, .landmarks-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Elements -->
    <div class="floating-elements">
        <div class="floating-element">ğŸ•Œ</div>
        <div class="floating-element">ğŸŒ¿</div>
        <div class="floating-element">â­</div>
    </div>
    <header class="main-header">
        <div class="header-container">
            <a href="index.html" class="header-logo">
                <img src="image/icon website.jpg" alt="Ø´Ø¹Ø§Ø± Ø³ÙØ§Ø±" class="logo-img" />
            </a>
            <nav class="header-nav">
                <a href="index.html" class="header-link" data-i18n="nav.home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            </nav>
            <div class="header-actions">
                <div class="language-dropdown">
                    <button id="languageToggle" class="cta-button header-cta" aria-haspopup="true" aria-expanded="false">Ø§Ù„Ù„ØºØ©</button>
                    <div id="languageMenu" class="language-menu" role="menu" aria-label="Language menu">
                      <button type="button" class="language-option" data-lang="ar" role="menuitem">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
                      <button type="button" class="language-option" data-lang="en" role="menuitem">English</button>
                      <button type="button" class="language-option" data-lang="fr" role="menuitem">FranÃ§ais</button>
                      <button type="button" class="language-option" data-lang="zh" role="menuitem">ä¸­æ–‡</button>
                      <button type="button" class="language-option" data-lang="hi" role="menuitem">à¤¹à¤¿à¤¨à¥à¤¦à¥€</button>
                      <button type="button" class="language-option" data-lang="id" role="menuitem">Bahasa Indonesia</button>
                    </div>
                </div>
                <button id="darkModeToggle" class="cta-button" data-i18n="buttons.darkMode">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</button>
            </div>
        </div>
    </header>

    <main class="city-details-page">
        <div class="city-details-container">
            <div id="cityFullDetails" class="city-full-details">
                <!-- Content will be loaded dynamically -->
                <div class="loading-spinner">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const cityName = urlParams.get('city');

        function loadCityDetails() {
            const container = document.getElementById('cityFullDetails');
            if (!cityName || !container) return;

            const hotels = hotelsData[cityName] || [];
            const guides = guidesData[cityName] || [];
            const tourism = tourismTypes[cityName] || { types: [], description: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø­Ø© ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©." };
            
            // Map Arabic city names to directory names and their specific images
            const cityData = {
                "Ø¬Ø¯Ø©": {
                    dir: "jeddah",
                    heroImage: "pexels-irfan-rahat-164426592-12694176.jpg",
                    landmarks: [
                        {
                            url: "images/landmarks/Jeddah/Ù†Ø§ÙÙˆØ±Ø© Ø¬Ø¯Ø©.jpg",
                            caption: "Ù†Ø§ÙÙˆØ±Ø© Ø¬Ø¯Ø©"
                        },
                        {
                            url: "images/landmarks/Jeddah/Ø¬Ø¯Ø© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©.jpg",
                            caption: "Ø¬Ø¯Ø© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©"
                        },
                        {
                            url: "images/landmarks/Jeddah/ÙƒÙˆØ±Ù†ÙŠØ´ Ø¬Ø¯Ø©.jpg",
                            caption: "ÙƒÙˆØ±Ù†ÙŠØ´ Ø¬Ø¯Ø©"
                        },
                        {
                            url: "images/landmarks/Jeddah/Ø¨Ø±Ø¬ Ø¬Ø¯Ø©.jpg",
                            caption: "Ø¨Ø±Ø¬ Ø¬Ø¯Ø©"
                        }
                    ]
                },
                "Ø§Ù„Ø±ÙŠØ§Ø¶": {
                    dir: "Riyadh",
                    heroImage: "Riyadh.jpg",
                    landmarks: [
                        {
                            url: "https://images.unsplash.com/photo-1586724237569-f3d0c1dee8a6",
                            caption: "Ø¨Ø±Ø¬ Ø§Ù„Ù…Ù…Ù„ÙƒØ©",
                            search: "Kingdom Centre Tower Riyadh"
                        },
                        {
                            url: "https://images.unsplash.com/photo-1586724237571-bf7c0b235c32",
                            caption: "Ù…Ø±ÙƒØ² Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ù…Ø§Ù„ÙŠ",
                            search: "King Abdullah Financial District KAFD"
                        },
                        {
                            url: "https://images.unsplash.com/photo-1586724237573-9e1c5bc93b7f",
                            caption: "Ø§Ù„Ø¯Ø±Ø¹ÙŠØ© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©",
                            search: "Diriyah Historical District"
                        },
                        {
                            url: "https://images.unsplash.com/photo-1586724237575-02d1b8401d6c",
                            caption: "Ø§Ù„Ù…ÙƒØ¹Ø¨ - Ù†ÙŠÙˆÙ…",
                            search: "Mukaab NEOM"
                        }
                    ]
                },
                "Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©": {
                    dir: "mecca",
                    heroImage: "mecca.jpg",
                    landmarks: [
                        {
                            url: "https://i.postimg.cc/L5QBc8Yg/grand-mosque.jpg",
                            caption: "Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ø­Ø±Ø§Ù…"
                        },
                        {
                            url: "https://i.postimg.cc/RVNyH2Zk/clock-tower.jpg",
                            caption: "Ø¨Ø±Ø¬ Ø³Ø§Ø¹Ø© Ù…ÙƒØ©"
                        },
                        {
                            url: "https://i.postimg.cc/3wXQZ9Yh/jabal-nour.jpg",
                            caption: "Ø¬Ø¨Ù„ Ø§Ù„Ù†ÙˆØ±"
                        },
                        {
                            url: "https://i.postimg.cc/8PmKjLZn/mashair-metro.jpg",
                            caption: "Ù‚Ø·Ø§Ø± Ø§Ù„Ù…Ø´Ø§Ø¹Ø±"
                        }
                    ]
                },
                "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©": {
                    dir: "madinah",
                    heroImage: "madinah.jpg",
                    landmarks: [
                        {
                            url: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Masjid_Nabawi._Medina%2C_Saudi_Arabia.jpg/800px-Masjid_Nabawi._Medina%2C_Saudi_Arabia.jpg",
                            caption: "Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†Ø¨ÙˆÙŠ"
                        },
                        {
                            url: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Quba_Mosque.jpg/800px-Quba_Mosque.jpg",
                            caption: "Ù…Ø³Ø¬Ø¯ Ù‚Ø¨Ø§Ø¡"
                        },
                        {
                            url: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/01/Mount_Uhud.jpg/800px-Mount_Uhud.jpg",
                            caption: "Ø¬Ø¨Ù„ Ø£Ø­Ø¯"
                        },
                        {
                            url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Masjid_al-Qiblatayn.jpg/800px-Masjid_al-Qiblatayn.jpg",
                            caption: "Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù‚Ø¨Ù„ØªÙŠÙ†"
                        }
                    ]
                },
                "Ø§Ù„Ø·Ø§Ø¦Ù": {
                    dir: "taif",
                    heroImage: "taif.jpg",
                    landmarks: [
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/taif/Taif_Banner.jpg",
                            caption: "Ø¬Ø¨Ù„ Ø§Ù„Ù‡Ø¯Ø§"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/taif/Al%20Shafa.jpg",
                            caption: "Ø§Ù„Ø´ÙØ§"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/taif/Taif%20Rose.jpg",
                            caption: "Ù…Ø²Ø§Ø±Ø¹ Ø§Ù„ÙˆØ±Ø¯ Ø§Ù„Ø·Ø§Ø¦ÙÙŠ"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/taif/Rudaf%20Park.jpg",
                            caption: "Ù…Ù†ØªØ²Ù‡ Ø§Ù„Ø±Ø¯Ù"
                        }
                    ]
                },
                "Ø§Ù„Ø¯Ù…Ø§Ù…": {
                    dir: "dammam",
                    heroImage: "dammam.jpg",
                    landmarks: [
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/dammam/Dammam_Corniche.jpg",
                            caption: "ÙƒÙˆØ±Ù†ÙŠØ´ Ø§Ù„Ø¯Ù…Ø§Ù…"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/dammam/King_Abdulaziz_Center.jpg",
                            caption: "Ù…Ø±ÙƒØ² Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„Ø«Ù‚Ø§ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ - Ø¥Ø«Ø±Ø§Ø¡"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/dammam/Marjan_Island.jpg",
                            caption: "Ø¬Ø²ÙŠØ±Ø© Ø§Ù„Ù…Ø±Ø¬Ø§Ù†"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/dammam/Dammam_Sea_Front.jpg",
                            caption: "ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¯Ù…Ø§Ù… Ø§Ù„Ø¨Ø­Ø±ÙŠØ©"
                        }
                    ]
                },
                "Ø£Ø¨Ù‡Ø§": {
                    dir: "abha",
                    heroImage: "abha.jpg",
                    landmarks: [
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/abha/Abha_Palace.jpg",
                            caption: "Ù‚ØµØ± Ø£Ø¨Ù‡Ø§"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/abha/Al_Souda_Mountains.jpg",
                            caption: "Ø¬Ø¨Ø§Ù„ Ø§Ù„Ø³ÙˆØ¯Ø©"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/abha/Rijal_Almaa.jpg",
                            caption: "Ù‚Ø±ÙŠØ© Ø±Ø¬Ø§Ù„ Ø£Ù„Ù…Ø¹"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/abha/Abha_Cable_Car.jpg",
                            caption: "ØªÙ„ÙØ±ÙŠÙƒ Ø£Ø¨Ù‡Ø§"
                        }
                    ]
                },
                "Ø§Ù„Ø¹Ù„Ø§": {
                    dir: "al ula",
                    heroImage: "al-ula.jpg",
                    landmarks: [
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/alula/Hegra.jpg",
                            caption: "Ù…Ø¯Ø§Ø¦Ù† ØµØ§Ù„Ø­ - Ø§Ù„Ø­Ø¬Ø±"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/alula/Elephant_Rock.jpg",
                            caption: "Ø¬Ø¨Ù„ Ø§Ù„ÙÙŠÙ„"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/alula/Old_Town.jpg",
                            caption: "Ø§Ù„Ø¨Ù„Ø¯Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/alula/Maraya_Concert_Hall.jpg",
                            caption: "Ù‚Ø§Ø¹Ø© Ù…Ø±Ø§ÙŠØ§"
                        }
                    ]
                },
                "ØªØ¨ÙˆÙƒ": {
                    dir: "tabuk",
                    heroImage: "tabuk.jpg",
                    landmarks: [
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/tabuk/Neom_Beach.jpg",
                            caption: "Ø´ÙˆØ§Ø·Ø¦ Ù†ÙŠÙˆÙ…"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/tabuk/Tabuk_Castle.jpg",
                            caption: "Ù‚Ù„Ø¹Ø© ØªØ¨ÙˆÙƒ"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/tabuk/Tayeb_Al_Ism.jpg",
                            caption: "Ø·ÙŠØ¨ Ø§Ù„Ø§Ø³Ù…"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/tabuk/Wadi_Al_Disah.jpg",
                            caption: "ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¯ÙŠØ³Ø©"
                        }
                    ]
                },
                "Ø§Ù„Ø®Ø¨Ø±": {
                    dir: "al khobar",
                    heroImage: "khobar.jpg",
                    landmarks: [
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/alkhobar/Khobar_Corniche.jpg",
                            caption: "ÙƒÙˆØ±Ù†ÙŠØ´ Ø§Ù„Ø®Ø¨Ø±"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/alkhobar/Khobar_Water_Tower.jpg",
                            caption: "Ø¨Ø±Ø¬ Ø§Ù„Ù…ÙŠØ§Ù‡"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/alkhobar/Science_Tech_Center.jpg",
                            caption: "Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù„ÙˆÙ… ÙˆØ§Ù„ØªÙ‚Ù†ÙŠØ©"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/alkhobar/Ajdan_Walk.jpg",
                            caption: "Ù…Ù…Ø´Ù‰ Ø¹Ø¬Ø¯Ø§Ù†"
                        }
                    ]
                },
                "ÙŠÙ†Ø¨Ø¹": {
                    dir: "yanbu",
                    heroImage: "yanbu.jpg",
                    landmarks: [
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/yanbu/Yanbu_Lake.jpg",
                            caption: "Ø¨Ø­ÙŠØ±Ø© ÙŠÙ†Ø¨Ø¹"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/yanbu/Historical_Area.jpg",
                            caption: "ÙŠÙ†Ø¨Ø¹ Ø§Ù„Ø¨Ù„Ø¯"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/yanbu/Royal_Commission.jpg",
                            caption: "Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ©"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/yanbu/Yanbu_Waterfront.jpg",
                            caption: "ÙˆØ§Ø¬Ù‡Ø© ÙŠÙ†Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø±ÙŠØ©"
                        }
                    ]
                },
                "Ø­Ø§Ø¦Ù„": {
                    dir: "hail",
                    heroImage: "hail.jpg",
                    landmarks: [
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/hail/Jubbah_Rock_Art.jpg",
                            caption: "Ù†Ù‚ÙˆØ´ Ø¬Ø¨Ø© Ø§Ù„ØµØ®Ø±ÙŠØ©"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/hail/Airif_Castle.jpg",
                            caption: "Ù‚Ù„Ø¹Ø© Ø¹ÙŠØ±Ù"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/hail/Hail_Heritage_Village.jpg",
                            caption: "Ù‚Ø±ÙŠØ© Ø­Ø§Ø¦Ù„ Ø§Ù„ØªØ±Ø§Ø«ÙŠØ©"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/hail/Al_Qishlah_Palace.jpg",
                            caption: "Ù‚ØµØ± Ø§Ù„Ù‚Ø´Ù„Ø©"
                        }
                    ]
                },
                "Ø¬Ø§Ø²Ø§Ù†": {
                    dir: "jazan",
                    heroImage: "jazan.jpg",
                    landmarks: [
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/jazan/Farasan_Islands.jpg",
                            caption: "Ø¬Ø²Ø± ÙØ±Ø³Ø§Ù†"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/jazan/Fifa_Mountains.jpg",
                            caption: "Ø¬Ø¨Ø§Ù„ ÙÙŠÙØ§"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/jazan/Jazan_Waterfront.jpg",
                            caption: "ÙˆØ§Ø¬Ù‡Ø© Ø¬Ø§Ø²Ø§Ù† Ø§Ù„Ø¨Ø­Ø±ÙŠØ©"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/jazan/Traditional_Village.jpg",
                            caption: "Ø§Ù„Ù‚Ø±ÙŠØ© Ø§Ù„ØªØ±Ø§Ø«ÙŠØ©"
                        }
                    ]
                },
                "Ù†Ø¬Ø±Ø§Ù†": {
                    dir: "najran",
                    heroImage: "najran.jpg",
                    landmarks: [
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/najran/Al_Aan_Palace.jpg",
                            caption: "Ù‚ØµØ± Ø§Ù„Ø¹Ø§Ù†"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/najran/Najran_Valley_Dam.jpg",
                            caption: "Ø³Ø¯ ÙˆØ§Ø¯ÙŠ Ù†Ø¬Ø±Ø§Ù†"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/najran/Abu_Hamdan_Village.jpg",
                            caption: "Ù‚Ø±ÙŠØ© Ø£Ø¨Ùˆ Ø­Ù…Ø¯Ø§Ù†"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/najran/Historical_Najran.jpg",
                            caption: "Ù†Ø¬Ø±Ø§Ù† Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©"
                        }
                    ]
                },
                "Ø¹Ø±Ø¹Ø±": {
                    dir: "arar",
                    heroImage: "arar.jpg",
                    landmarks: [
                        {
                            url: "https://www.spa.gov.sa/galupload/normal/1442/2161442.jpg",
                            caption: "Ø­Ø¯ÙŠÙ‚Ø© Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯"
                        },
                        {
                            url: "https://www.spa.gov.sa/galupload/normal/1442/2171442.jpg",
                            caption: "Ù…ØªÙ†Ø²Ù‡ Ø§Ù„Ø£Ù…ÙŠØ± Ù†ÙˆØ§Ù"
                        },
                        {
                            url: "https://aawsat.com/sites/default/files/styles/article_img_top/public/2019/10/13/191013.jpg",
                            caption: "Ù…Ø±ÙƒØ² Ø¹Ø±Ø¹Ø± Ø§Ù„Ø­Ø¶Ø§Ø±ÙŠ"
                        },
                        {
                            url: "https://www.spa.gov.sa/galupload/normal/1442/2181442.jpg",
                            caption: "Ù…ÙŠØ¯Ø§Ù† Ø§Ù„ÙØ±ÙˆØ³ÙŠØ©"
                        }
                    ]
                },
                "Ø§Ù„Ø¨Ø§Ø­Ø©": {
                    dir: "baha",
                    heroImage: "baha.jpg",
                    landmarks: [
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/albaha/Raghadan_Forest.jpg",
                            caption: "ØºØ§Ø¨Ø© Ø±ØºØ¯Ø§Ù†"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/albaha/Dhee_Ain_Village.jpg",
                            caption: "Ù‚Ø±ÙŠØ© Ø°ÙŠ Ø¹ÙŠÙ†"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/albaha/Al_Baha_Forest.jpg",
                            caption: "ØºØ§Ø¨Ø§Øª Ø§Ù„Ø¨Ø§Ø­Ø©"
                        },
                        {
                            url: "https://www.visitsaudi.com/content/dam/saudi-tourism/media/destinations/albaha/Marble_Village.jpg",
                            caption: "Ù‚Ø±ÙŠØ© Ø§Ù„Ù…Ø±Ù…Ø±"
                        }
                    ]
                }
            };
            
            const currentCity = cityData[cityName] || { 
                dir: 'default', 
                heroImage: 'cleaned_page_perfect.png',
                landmarks: []
            };
            
            // Add better error handling with dynamic placeholders and loading state
            const style = document.createElement('style');
            style.textContent = '.gallery-grid {' +
                'display: grid;' +
                'grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));' +
                'gap: 20px;' +
                'padding: 20px;' +
            '}' +
            '.gallery-item {' +
                'position: relative;' +
                'border-radius: 10px;' +
                'overflow: hidden;' +
                'background: #f8f8f8;' +
                'aspect-ratio: 4/3;' +
                'box-shadow: 0 4px 8px rgba(0,0,0,0.1);' +
            '}' +
            '.gallery-img {' +
                'width: 100%;' +
                'height: 100%;' +
                'object-fit: cover;' +
                'transition: transform 0.3s ease;' +
            '}' +
            '.gallery-img:hover {' +
                'transform: scale(1.05);' +
            '}' +
            '.gallery-caption {' +
                'position: absolute;' +
                'bottom: 0;' +
                'left: 0;' +
                'right: 0;' +
                'background: rgba(0,0,0,0.7);' +
                'color: white;' +
                'padding: 12px 15px;' +
                'text-align: center;' +
                'font-size: 16px;' +
                'backdrop-filter: blur(5px);' +
            '}' +
            '.hero-section {' +
                'position: relative;' +
                'min-height: 60vh;' +
                'background-size: cover;' +
                'background-position: center;' +
                'background-repeat: no-repeat;' +
                'display: flex;' +
                'align-items: center;' +
                'justify-content: center;' +
                'padding: 40px 20px;' +
                'margin-bottom: 30px;' +
                'overflow: hidden;' +
            '}' +
            '.hero-content {' +
                'position: relative;' +
                'z-index: 2;' +
                'text-align: center;' +
                'max-width: 1200px;' +
                'width: 100%;' +
                'margin: 0 auto;' +
                'padding: 20px;' +
                'background: rgba(0,0,0,0.5);' +
                'backdrop-filter: blur(10px);' +
                'border-radius: 15px;' +
                'box-shadow: 0 4px 30px rgba(0,0,0,0.1);' +
            '}' +
            '.city-title {' +
                'font-size: 3em;' +
                'color: #fff;' +
                'margin-bottom: 20px;' +
                'text-shadow: 2px 2px 4px rgba(0,0,0,0.3);' +
            '}' +
            '.city-quick-info {' +
                'display: flex;' +
                'flex-wrap: wrap;' +
                'justify-content: center;' +
                'gap: 20px;' +
                'margin-top: 20px;' +
            '}' +
            '.weather-container {' +
                'background: rgba(255,255,255,0.1);' +
                'padding: 15px;' +
                'border-radius: 10px;' +
                'backdrop-filter: blur(5px);' +
                'width: 100%;' +
                'max-width: 300px;' +
            '}' +
            '.weather-info {' +
                'display: flex;' +
                'justify-content: center;' +
                'align-items: center;' +
                'color: #fff;' +
            '}' +
            '.weather-data {' +
                'display: flex;' +
                'align-items: center;' +
                'gap: 10px;' +
            '}' +
            '.weather-data img {' +
                'width: 50px;' +
                'height: 50px;' +
            '}' +
            '.weather-details {' +
                'text-align: right;' +
            '}' +
            '.weather-details .temp {' +
                'font-size: 1.5em;' +
                'font-weight: bold;' +
            '}' +
            '.quick-stats {' +
                'display: flex;' +
                'flex-wrap: wrap;' +
                'gap: 15px;' +
                'justify-content: center;' +
            '}' +
            '.stat-item {' +
                'background: rgba(255,255,255,0.1);' +
                'padding: 15px 25px;' +
                'border-radius: 10px;' +
                'backdrop-filter: blur(5px);' +
                'display: flex;' +
                'flex-direction: column;' +
                'align-items: center;' +
                'min-width: 120px;' +
            '}' +
            '.stat-icon {' +
                'font-size: 1.5em;' +
                'margin-bottom: 5px;' +
            '}' +
            '.stat-value {' +
                'font-size: 1.2em;' +
                'font-weight: bold;' +
                'color: #fff;' +
            '}' +
            '.stat-label {' +
                'color: #fff;' +
                'font-size: 0.9em;' +
            '}' +
            '@media (max-width: 768px) {' +
                '.hero-section {' +
                    'min-height: 40vh;' +
                    'padding: 20px 10px;' +
                '}' +
                '.city-title {' +
                    'font-size: 2em;' +
                '}' +
                '.hero-content {' +
                    'padding: 15px;' +
                '}' +
                '.weather-container {' +
                    'max-width: 100%;' +
                '}' +
                '.stat-item {' +
                    'min-width: calc(50% - 15px);' +
                    'padding: 10px 15px;' +
                '}' +
                '.gallery-grid {' +
                    'grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));' +
                    'gap: 15px;' +
                    'padding: 15px;' +
                '}' +
                '.gallery-caption {' +
                    'padding: 8px 12px;' +
                    'font-size: 14px;' +
                '}' +
            '}' +
            '@media (max-width: 480px) {' +
                '.hero-section {' +
                    'min-height: 30vh;' +
                '}' +
                '.city-title {' +
                    'font-size: 1.8em;' +
                    'margin-bottom: 15px;' +
                '}' +
                '.stat-item {' +
                    'min-width: calc(100% - 15px);' +
                    'padding: 10px;' +
                '}' +
                '.gallery-grid {' +
                    'grid-template-columns: 1fr;' +
                    'gap: 12px;' +
                    'padding: 12px;' +
                '}' +
                '.weather-data .temp {' +
                    'font-size: 1.2em;' +
                '}' +
                '.weather-data img {' +
                    'width: 40px;' +
                    'height: 40px;' +
                '}' +
            '}';
            document.head.appendChild(style);

            // Function to load images from Unsplash
            async function loadUnsplashImage(search, imgElement) {
                try {
                    const response = await fetch(`https://source.unsplash.com/800x600/?${encodeURIComponent(search)}`);
                    if (response.ok) {
                        imgElement.src = response.url;
                        imgElement.parentElement.classList.remove('loading');
                    } else {
                        throw new Error('Failed to load image');
                    }
                } catch (error) {
                    imgElement.style.display = 'none';
                    imgElement.parentElement.classList.remove('loading');
                    imgElement.parentElement.classList.add('error');
                }
            }

            container.innerHTML = '<section class="hero-section city-hero" style="background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(\'image/' + currentCity.dir + '/' + currentCity.heroImage + '\')">' +
                '<div class="hero-content">' +
                    '<h1 class="city-title">' + cityName + '</h1>' +
                    '<div class="city-quick-info">' +
                        '<div class="weather-container">' +
                            '<div class="weather-info">' +
                                '<div class="loading-weather">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù‚Ø³...</div>' +
                            '</div>' +
                        '</div>' +
                        '<div class="quick-stats">' +
                            '<div class="stat-item">' +
                                '<span class="stat-icon">ğŸ¨</span>' +
                                '<span class="stat-value">' + hotels.length + '</span>' +
                                '<span class="stat-label">ÙÙ†Ø¯Ù‚</span>' +
                            '</div>' +
                            '<div class="stat-item">' +
                                '<span class="stat-icon">ğŸ‘¥</span>' +
                                '<span class="stat-value">' + guides.length + '</span>' +
                                '<span class="stat-label">Ù…Ø±Ø´Ø¯ Ø³ÙŠØ§Ø­ÙŠ</span>' +
                            '</div>' +
                            '<div class="stat-item">' +
                                '<span class="stat-icon">ğŸ¯</span>' +
                                '<span class="stat-value">' + tourism.types.length + '</span>' +
                                '<span class="stat-label">Ù†ÙˆØ¹ Ø³ÙŠØ§Ø­ÙŠ</span>' +
                            '</div>' +
                        '</div>' +
                    '</div>' +
                '</div>' +
            '</section>' +
            '<section class="features-section">' +
                '<div class="features-container">' +
                    '<h2 class="features-title">Ù…Ø¹Ø§Ù„Ù… ' + cityName + '</h2>' +
                    '<div class="city-gallery">' +
                        '<div class="gallery-grid">' +
                            currentCity.landmarks.map((landmark, index) => 
                                '<div class="gallery-item loading" data-caption="' + landmark.caption + '">' +
                                    '<img class="gallery-img" ' +
                                        'alt="' + landmark.caption + '"' +
                                        'loading="lazy"' +
                                        'onload="this.parentElement.classList.remove(\'loading\')"' +
                                        'onerror="loadUnsplashImage(\'' + landmark.search + '\', this)">' +
                                    '<div class="gallery-caption">' + landmark.caption + '</div>' +
                                '</div>'
                            ).join('') +
                        '</div>' +
                    '</div>' +
                '</div>' +
            '</section>' +
            '<section class="features-section">' +
                '<div class="features-container">' +
                    '<h2 class="features-title">Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø³ÙŠØ§Ø­Ø© ÙÙŠ ' + cityName + '</h2>' +
                    '<div class="tourism-intro">' +
                        '<p>Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù…Ø®ØªÙ„Ù Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø³ÙŠØ§Ø­Ø©ØŒ Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø§Ù„Ø³ÙŠØ§Ø­Ø© Ø§Ù„Ø¨Ø­Ø±ÙŠØ© ÙˆØ§Ù„Ø¨Ø±ÙŠØ© ÙˆØ§Ù„ØªØ±Ø§Ø«ÙŠØ©.</p>' +
                    '</div>' +
                    '<div class="features-grid">' +
                        '<div class="feature-card">' +
                            '<div class="feature-icon">ğŸ–ï¸</div>' +
                            '<h3>Ø§Ù„Ø³ÙŠØ§Ø­Ø© Ø§Ù„Ø¨Ø­Ø±ÙŠØ©</h3>' +
                            '<p>Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ø´ÙˆØ§Ø·Ø¦ Ø§Ù„Ø¬Ù…ÙŠÙ„Ø© ÙˆØ§Ù„Ø±ÙŠØ§Ø¶Ø§Øª Ø§Ù„Ù…Ø§Ø¦ÙŠØ©</p>' +
                            '<ul class="feature-list">' +
                                '<li>Ø´ÙˆØ§Ø·Ø¦ Ø±Ù…Ù„ÙŠØ© Ø®Ù„Ø§Ø¨Ø©</li>' +
                                '<li>Ø±ÙŠØ§Ø¶Ø§Øª Ù…Ø§Ø¦ÙŠØ© Ù…ØªÙ†ÙˆØ¹Ø©</li>' +
                                '<li>Ø±Ø­Ù„Ø§Øª Ø¨Ø­Ø±ÙŠØ© Ù…Ù…ØªØ¹Ø©</li>' +
                            '</ul>' +
                        '</div>' +
                        '<div class="feature-card">' +
                            '<div class="feature-icon">ğŸœï¸</div>' +
                            '<h3>Ø§Ù„Ø³ÙŠØ§Ø­Ø© Ø§Ù„Ø¨Ø±ÙŠØ©</h3>' +
                            '<p>Ø§ÙƒØªØ´Ù Ø§Ù„Ù…Ù†Ø§Ø¸Ø± Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© ÙˆØ§Ù„Ù…ØºØ§Ù…Ø±Ø§Øª Ø§Ù„Ø¨Ø±ÙŠØ©</p>' +
                            '<ul class="feature-list">' +
                                '<li>Ø±Ø­Ù„Ø§Øª Ø§Ù„Ø³ÙØ§Ø±ÙŠ</li>' +
                                '<li>Ø§Ù„ØªØ®ÙŠÙŠÙ… ÙÙŠ Ø§Ù„ØµØ­Ø±Ø§Ø¡</li>' +
                                '<li>Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø´ÙŠ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©</li>' +
                            '</ul>' +
                        '</div>' +
                        '<div class="feature-card">' +
                            '<div class="feature-icon">ğŸ›ï¸</div>' +
                            '<h3>Ø§Ù„Ø³ÙŠØ§Ø­Ø© Ø§Ù„ØªØ±Ø§Ø«ÙŠØ©</h3>' +
                            '<p>ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ø«Ù‚Ø§ÙØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ©</p>' +
                            '<ul class="feature-list">' +
                                '<li>Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©</li>' +
                                '<li>Ø§Ù„Ù…ØªØ§Ø­Ù Ø§Ù„ØªØ±Ø§Ø«ÙŠØ©</li>' +
                                '<li>Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ø´Ø¹Ø¨ÙŠØ©</li>' +
                            '</ul>' +
                        '</div>' +
                    '</div>' +
                    '<div class="tourism-tags">' +
                        tourism.types.map(type => '<span class="tourism-tag">' + type + '</span>').join('') +
                    '</div>' +
                '</div>' +
            '</section>' +
            '<section class="features-section hotels-section">' +
                '<div class="features-container">' +
                    '<h2 class="features-title">Ø§Ù„ÙÙ†Ø§Ø¯Ù‚ Ø§Ù„Ù…ØªØ§Ø­Ø© ÙÙŠ ' + cityName + '</h2>' +
                    '<div class="section-intro">' +
                        '<p>Ø§Ø®ØªØ± Ù…Ù† Ø¨ÙŠÙ† Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ØªÙ†ÙˆØ¹Ø© Ù…Ù† Ø§Ù„ÙÙ†Ø§Ø¯Ù‚ Ø§Ù„ÙØ§Ø®Ø±Ø© ÙˆØ§Ù„Ù…Ø±ÙŠØ­Ø© Ø§Ù„ØªÙŠ ØªÙ†Ø§Ø³Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø°ÙˆØ§Ù‚ ÙˆØ§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ§Øª.</p>' +
                    '</div>' +
                    '<div class="features-grid">' +
                        hotels.map(hotel => 
                            '<div class="feature-card hotel-card">' +
                                '<div class="hotel-header">' +
                                    '<h3>' + hotel.name + '</h3>' +
                                    '<div class="rating">' +
                                        '<span class="stars">' + 'â­'.repeat(Math.floor(hotel.rating)) + '</span>' +
                                        '<span class="rating-value">' + hotel.rating + '</span>' +
                                    '</div>' +
                                '</div>' +
                                '<p class="description">' + hotel.desc + '</p>' +
                                '<div class="meta">' +
                                    '<div class="address">' +
                                        '<span class="meta-icon">ğŸ“</span>' +
                                        '<span>' + hotel.address + '</span>' +
                                    '</div>' +
                                    '<div class="phone">' +
                                        '<span class="meta-icon">â˜ï¸</span>' +
                                        '<span>' + hotel.phone + '</span>' +
                                    '</div>' +
                                '</div>' +
                                '<div class="hotel-features">' +
                                    '<span class="feature">ÙˆØ§ÙŠ ÙØ§ÙŠ Ù…Ø¬Ø§Ù†ÙŠ</span>' +
                                    '<span class="feature">Ù…ÙˆÙ‚Ù Ø³ÙŠØ§Ø±Ø§Øª</span>' +
                                    '<span class="feature">Ù…Ø³Ø¨Ø­</span>' +
                                '</div>' +
                                '<a href="' + hotel.url + '" target="_blank" class="cta-button">Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹</a>' +
                            '</div>'
                        ).join('') +
                    '</div>' +
                '</div>' +
            '</section>' +
            '<section class="features-section guides-section">' +
                '<div class="features-container">' +
                    '<h2 class="features-title">Ø§Ù„Ù…Ø±Ø´Ø¯ÙˆÙ† Ø§Ù„Ø³ÙŠØ§Ø­ÙŠÙˆÙ† ÙÙŠ ' + cityName + '</h2>' +
                    '<div class="section-intro">' +
                        '<p>Ø§Ø³ØªÙƒØ´Ù Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ù…Ø¹ Ù…Ø±Ø´Ø¯ÙŠÙ† Ø³ÙŠØ§Ø­ÙŠÙŠÙ† Ù…Ø­ØªØ±ÙÙŠÙ† ÙŠÙ‚Ø¯Ù…ÙˆÙ† ØªØ¬Ø§Ø±Ø¨ ÙØ±ÙŠØ¯Ø© ÙˆÙ…Ù…ØªØ¹Ø©.</p>' +
                    '</div>' +
                    '<div class="features-grid">' +
                        guides.map(guide => 
                            '<div class="feature-card guide-card">' +
                                '<div class="guide-header">' +
                                    '<h3>' + guide.name + '</h3>' +
                                    '<div class="rating">' +
                                        '<span class="stars">' + 'â­'.repeat(Math.floor(guide.rating)) + '</span>' +
                                        '<span class="rating-value">' + guide.rating + '</span>' +
                                    '</div>' +
                                '</div>' +
                                '<div class="guide-specialties">' +
                                    '<span class="specialty">Ø¬ÙˆÙ„Ø§Øª ØªØ±Ø§Ø«ÙŠØ©</span>' +
                                    '<span class="specialty">Ø±Ø­Ù„Ø§Øª Ø¨Ø±ÙŠØ©</span>' +
                                    '<span class="specialty">Ø¬ÙˆÙ„Ø§Øª Ø¨Ø­Ø±ÙŠØ©</span>' +
                                '</div>' +
                                '<p class="description">' + guide.desc + '</p>' +
                                '<div class="guide-languages">' +
                                    '<h4>Ø§Ù„Ù„ØºØ§Øª:</h4>' +
                                    '<span class="language">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>' +
                                    '<span class="language">Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</span>' +
                                '</div>' +
                                '<div class="phone">' +
                                    '<span class="meta-icon">â˜ï¸</span>' +
                                    '<span>' + guide.phone + '</span>' +
                                '</div>' +
                                '<a href="https://wa.me/' + guide.phone.replace(/[^\d]/g, '') + '" target="_blank" class="cta-button">Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù† Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</a>' +
                            '</div>'
                        ).join('') +
                    '</div>' +
                '</div>' +
            '</section>' +
            '<section class="features-section" id="planSection">' +
                '<div class="features-container">' +
                    '<h2 class="features-title">Ø¬Ø¯ÙˆÙ„ Ø±Ø­Ù„ØªÙƒ</h2>' +
                    '<div class="plan-container">' +
                        '<a href="travel-schedule.html" class="cta-button">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ®Ø·ÙŠØ·</a>' +
                    '</div>' +
                '</div>' +
            '</section>' +
            '<div class="back-section">' +
                '<a href="index.html" class="cta-button">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>' +
            '</div>';

            // Load images
            document.querySelectorAll('.gallery-img').forEach((img, index) => {
                const landmark = currentCity.landmarks[index];
                img.src = landmark.url;
            });

            // Fetch and update weather
            const weatherContainer = container.querySelector('.weather-info');
            fetchWeather(cityName).then(weather => {
                if (weather) {
                    weatherContainer.innerHTML = '<div class="weather-data">' +
                        '<img src="http://openweathermap.org/img/w/' + weather.icon + '.png" alt="Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù‚Ø³">' +
                        '<div class="weather-details">' +
                            '<div class="temp">' + weather.temp + 'Â°C</div>' +
                            '<span class="desc">' + weather.description + '</span>' +
                        '</div>' +
                    '</div>';
                } else {
                    weatherContainer.innerHTML = '<div class="weather-error">' +
                        '<div class="temp">25Â°C</div>' +
                        '<span class="desc">Ø¯Ø±Ø¬Ø© Ø­Ø±Ø§Ø±Ø©</span>' +
                    '</div>';
                }
            });

            // Initialize planning functionality
            const questions = [
                {
                    id: 'duration',
                    text: 'ÙƒÙ… ÙŠÙˆÙ… ØªØ®Ø·Ø· Ù„Ù„Ø¥Ù‚Ø§Ù…Ø©ØŸ',
                    type: 'number',
                    placeholder: 'Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…'
                },
                {
                    id: 'budget',
                    text: 'Ù…Ø§ Ù‡ÙŠ Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠØ©ØŸ',
                    type: 'number',
                    placeholder: 'Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø¨Ø§Ù„Ø±ÙŠØ§Ù„'
                },
                {
                    id: 'interests',
                    text: 'Ù…Ø§ Ù‡ÙŠ Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒØŸ',
                    type: 'multiple',
                    options: ['Ø§Ù„Ù…Ø¹Ø§Ù„Ù… Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©', 'Ø§Ù„ØªØ³ÙˆÙ‚', 'Ø§Ù„Ù…Ø·Ø§Ø¹Ù…', 'Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªØ±ÙÙŠÙ‡ÙŠØ©', 'Ø§Ù„Ø«Ù‚Ø§ÙØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ©']
                },
                {
                    id: 'accommodation',
                    text: 'Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© Ø§Ù„Ù…ÙØ¶Ù„ Ù„Ø¯ÙŠÙƒØŸ',
                    type: 'single',
                    options: ['ÙÙ†Ø¯Ù‚ ÙØ§Ø®Ø±', 'ÙÙ†Ø¯Ù‚ Ù…ØªÙˆØ³Ø·', 'Ø´Ù‚Ø© Ù…ÙØ±ÙˆØ´Ø©', 'Ù…Ù†ØªØ¬Ø¹']
                },
                {
                    id: 'transportation',
                    text: 'ÙƒÙŠÙ ØªÙØ¶Ù„ Ø§Ù„ØªÙ†Ù‚Ù„ ÙÙŠ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©ØŸ',
                    type: 'single',
                    options: ['Ø³ÙŠØ§Ø±Ø© Ø®Ø§ØµØ©', 'Ù…ÙˆØ§ØµÙ„Ø§Øª Ø¹Ø§Ù…Ø©', 'Ø³ÙŠØ§Ø±Ø© Ù…Ø¹ Ø³Ø§Ø¦Ù‚', 'ØªØ§ÙƒØ³ÙŠ']
                }
            ];

            let currentQuestionIndex = 0;
            let answers = {};

            // Get DOM elements
            const startButton = document.getElementById('startPlanningBtn');
            const questionnaireDiv = document.getElementById('planningQuestionnaire');
            const questionContainer = document.querySelector('.question-container');
            const planSummary = document.getElementById('planSummary');
            const planDetails = document.getElementById('planDetails');
            const savePlanBtn = document.getElementById('savePlanBtn');

            // Add event listeners
            startButton.addEventListener('click', startPlanning);
            savePlanBtn.addEventListener('click', savePlan);

            function startPlanning() {
                questionnaireDiv.style.display = 'block';
                showQuestion(0);
            }

            function showQuestion(index) {
                const question = questions[index];
                let questionHtml = '<div class="question-box">' +
                    '<h3>' + question.text + '</h3>';

                if (question.type === 'number') {
                    questionHtml += '<input type="number" ' +
                        'class="input-field" ' +
                        'placeholder="' + question.placeholder + '" ' +
                        'value="' + (answers[question.id] || '') + '" ' +
                        'onchange="handleNumberInput(\'' + question.id + '\', this.value)">';
                } else {
                    questionHtml += '<div class="options-container">';
                    question.options.forEach(option => {
                        const isSelected = question.type === 'multiple' 
                            ? (answers[question.id] || []).includes(option)
                            : answers[question.id] === option;
                        questionHtml += '<button class="option-button ' + (isSelected ? 'selected' : '') + '" ' +
                            'onclick="handleOptionSelect(\'' + question.id + '\', \'' + option + '\', ' + (question.type === 'multiple') + ', this)">' +
                            option +
                            '</button>';
                    });
                    questionHtml += '</div>';
                }

                questionHtml += '<div style="margin-top: 20px;">' +
                    (index > 0 ? '<button class="cta-button" onclick="showPreviousQuestion()">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>' : '') +
                    (index < questions.length - 1 
                        ? '<button class="cta-button" onclick="showNextQuestion()">Ø§Ù„ØªØ§Ù„ÙŠ</button>'
                        : '<button class="cta-button" onclick="showPlanSummary()">Ø¥Ù†Ù‡Ø§Ø¡</button>') +
                    '</div>' +
                '</div>';

                questionContainer.innerHTML = questionHtml;
                currentQuestionIndex = index;
            }

            // Make functions globally available
            window.handleNumberInput = function(questionId, value) {
                answers[questionId] = value;
            };

            window.handleOptionSelect = function(questionId, value, isMultiple, button) {
                if (isMultiple) {
                    answers[questionId] = answers[questionId] || [];
                    const index = answers[questionId].indexOf(value);
                    
                    if (index === -1) {
                        answers[questionId].push(value);
                        button.classList.add('selected');
                    } else {
                        answers[questionId].splice(index, 1);
                        button.classList.remove('selected');
                    }
                } else {
                    const allButtons = button.parentElement.querySelectorAll('.option-button');
                    allButtons.forEach(btn => btn.classList.remove('selected'));
                    answers[questionId] = value;
                    button.classList.add('selected');
                }
            };

            window.showPreviousQuestion = function() {
                if (currentQuestionIndex > 0) {
                    showQuestion(currentQuestionIndex - 1);
                }
            };

            window.showNextQuestion = function() {
                if (currentQuestionIndex < questions.length - 1) {
                    showQuestion(currentQuestionIndex + 1);
                }
            };

            window.showPlanSummary = function() {
                let summaryHtml = '';
                questions.forEach(question => {
                    const answer = answers[question.id];
                    if (answer) {
                        summaryHtml += '<div class="plan-detail-item">' +
                            '<strong>' + question.text + '</strong>' +
                            '<p>' + (Array.isArray(answer) ? answer.join('ØŒ ') : answer) + '</p>' +
                        '</div>';
                    }
                });

                // Add suggested itinerary
                const days = parseInt(answers.duration) || 3;
                const interests = answers.interests || [];
                
                // Define all possible activities for each interest
                const activities = {
                    'Ø§Ù„Ù…Ø¹Ø§Ù„Ù… Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©': [
                        'Ø²ÙŠØ§Ø±Ø© ' + currentCity.landmarks[0].caption,
                        'Ø²ÙŠØ§Ø±Ø© ' + currentCity.landmarks[1].caption,
                        'Ø¬ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©',
                        'Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…ØªØ§Ø­Ù Ø§Ù„ØªØ±Ø§Ø«ÙŠØ©',
                        'Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ù‚ØµÙˆØ± Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©',
                        'Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ©'
                    ],
                    'Ø§Ù„ØªØ³ÙˆÙ‚': [
                        'Ø²ÙŠØ§Ø±Ø© Ù…Ø±Ø§ÙƒØ² Ø§Ù„ØªØ³ÙˆÙ‚ Ø§Ù„Ø­Ø¯ÙŠØ«Ø©',
                        'Ø¬ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ø´Ø¹Ø¨ÙŠØ©',
                        'ØªØ³ÙˆÙ‚ ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©',
                        'Ø²ÙŠØ§Ø±Ø© Ù…Ø¹Ø§Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©',
                        'ØªØ³ÙˆÙ‚ ÙÙŠ Ø³ÙˆÙ‚ Ø§Ù„Ø­Ø±Ù Ø§Ù„ÙŠØ¯ÙˆÙŠØ©',
                        'Ø²ÙŠØ§Ø±Ø© Ù…ÙˆÙ„Ø§Øª Ø§Ù„ØªØ³ÙˆÙ‚ Ø§Ù„ÙØ§Ø®Ø±Ø©'
                    ],
                    'Ø§Ù„Ù…Ø·Ø§Ø¹Ù…': [
                        'ØªÙ†Ø§ÙˆÙ„ ÙˆØ¬Ø¨Ø© ÙÙŠ Ù…Ø·Ø¹Ù… Ù…Ø­Ù„ÙŠ Ø´Ù‡ÙŠØ±',
                        'ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø£ÙƒÙˆÙ„Ø§Øª Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ©',
                        'Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù…Ø·Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø­Ø±',
                        'ØªØ°ÙˆÙ‚ Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©',
                        'Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ù‚Ø§Ù‡ÙŠ Ø§Ù„Ø´Ø¹Ø¨ÙŠØ©',
                        'ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„ÙØ§Ø®Ø±Ø©'
                    ],
                    'Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªØ±ÙÙŠÙ‡ÙŠØ©': [
                        'Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ø­Ø¯Ø§Ø¦Ù‚ Ø§Ù„Ø¹Ø§Ù…Ø©',
                        'Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„Ø±ÙŠØ§Ø¶Ø§Øª Ø§Ù„Ù…Ø§Ø¦ÙŠØ©',
                        'Ø¬ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ù…Ù†ØªØ²Ù‡Ø§Øª Ø§Ù„ØªØ±ÙÙŠÙ‡ÙŠØ©',
                        'Ø²ÙŠØ§Ø±Ø© Ù…Ø±Ø§ÙƒØ² Ø§Ù„ØªØ±ÙÙŠÙ‡ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ©',
                        'Ù…Ù…Ø§Ø±Ø³Ø© Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ù…Ø´ÙŠ',
                        'Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù†ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©'
                    ],
                    'Ø§Ù„Ø«Ù‚Ø§ÙØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ©': [
                        'Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø¹Ø§Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠØ©',
                        'Ø­Ø¶ÙˆØ± ÙØ¹Ø§Ù„ÙŠØ§Øª Ø«Ù‚Ø§ÙÙŠØ©',
                        'Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ©',
                        'Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ØªØ±Ø§Ø«ÙŠØ©',
                        'Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©',
                        'Ø­Ø¶ÙˆØ± ÙˆØ±Ø´ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…Ø­Ù„ÙŠØ©'
                    ]
                };

                // Helper function to shuffle array
                function shuffleArray(array) {
                    for (let i = array.length - 1; i > 0; i--) {
                        const j = Math.floor(Math.random() * (i + 1));
                        [array[i], array[j]] = [array[j], array[i]];
                    }
                    return array;
                }

                summaryHtml += '<div class="plan-detail-item">' +
                    '<h3>Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ù‚ØªØ±Ø­</h3>';

                for (let i = 1; i <= days; i++) {
                    summaryHtml += '<div class="day-header">Ø§Ù„ÙŠÙˆÙ… ' + i + '</div>' +
                        '<div style="margin-top: 15px;">' +
                        '<ul>';

                    // Get all possible activities based on interests
                    let dayActivities = [];
                    interests.forEach(interest => {
                        if (activities[interest]) {
                            dayActivities = dayActivities.concat(activities[interest]);
                        }
                    });

                    // Shuffle activities and select 3-4 random ones
                    dayActivities = shuffleArray(dayActivities);
                    const numActivities = Math.min(Math.floor(Math.random() * 2) + 3, dayActivities.length);
                    
                    // Add morning, afternoon, and evening activities
                    const timeSlots = ['ØµØ¨Ø§Ø­Ø§Ù‹', 'Ø¸Ù‡Ø±Ø§Ù‹', 'Ù…Ø³Ø§Ø¡Ù‹'];
                    for (let j = 0; j < numActivities; j++) {
                        const timeSlot = timeSlots[j % timeSlots.length];
                        summaryHtml += '<li>' + timeSlot + ': ' + dayActivities[j] + '</li>';
                    }

                    // Add random meal suggestions
                    const meals = [
                        'ØªÙ†Ø§ÙˆÙ„ ÙˆØ¬Ø¨Ø© Ø§Ù„Ø¥ÙØ·Ø§Ø± ÙÙŠ Ù…Ø·Ø¹Ù… Ù…Ø­Ù„ÙŠ',
                        'ØªÙ†Ø§ÙˆÙ„ ÙˆØ¬Ø¨Ø© Ø§Ù„ØºØ¯Ø§Ø¡ ÙÙŠ Ù…Ø·Ø¹Ù… ØªÙ‚Ù„ÙŠØ¯ÙŠ',
                        'ØªÙ†Ø§ÙˆÙ„ ÙˆØ¬Ø¨Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡ ÙÙŠ Ù…Ø·Ø¹Ù… ÙØ§Ø®Ø±'
                    ];
                    const meal = meals[Math.floor(Math.random() * meals.length)];
                    summaryHtml += '<li class="meal-suggestion">' + meal + '</li>';

                    summaryHtml += '</ul>' +
                        '</div>';
                }

                // Add random tips
                const tips = [
                    'Ù†Ù†ØµØ­ Ø¨Ø¨Ø¯Ø¡ Ø§Ù„ÙŠÙˆÙ… Ù…Ø¨ÙƒØ±Ø§Ù‹ Ù„Ø§Ø³ØªØºÙ„Ø§Ù„ Ø§Ù„ÙˆÙ‚Øª Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„',
                    'Ø§Ø­Ø±Øµ Ø¹Ù„Ù‰ Ø§Ø±ØªØ¯Ø§Ø¡ Ù…Ù„Ø§Ø¨Ø³ Ù…Ø±ÙŠØ­Ø© ÙˆÙ…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø·Ù‚Ø³',
                    'Ù„Ø§ ØªÙ†Ø³Ù Ø£Ø®Ø° ÙƒØ§Ù…ÙŠØ±Ø§ Ù„Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØµÙˆØ± Ø§Ù„ØªØ°ÙƒØ§Ø±ÙŠØ©',
                    'Ø§Ø­ØªÙØ¸ Ø¨Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ù…Ø¹Ùƒ Ø¯Ø§Ø¦Ù…Ø§Ù‹',
                    'ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¨Ø·Ø§Ø±ÙŠØ© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù„Ù‡Ø§ØªÙÙƒ',
                    'Ø§Ø­Ø±Øµ Ø¹Ù„Ù‰ Ø´Ø±Ø¨ ÙƒÙ…ÙŠØ§Øª ÙƒØ§ÙÙŠØ© Ù…Ù† Ø§Ù„Ù…Ø§Ø¡'
                ];
                const randomTip = tips[Math.floor(Math.random() * tips.length)];
                
                summaryHtml += '<div class="plan-detail-item tips">' +
                    '<h3>Ù†ØµØ§Ø¦Ø­ Ù…ÙÙŠØ¯Ø©</h3>' +
                    '<p>' + randomTip + '</p>' +
                '</div>';

                planDetails.innerHTML = summaryHtml;
                planSummary.style.display = 'block';
            };

            function savePlan() {
                // Here you can implement saving the plan to localStorage or send it to a server
                alert('ØªÙ… Ø­ÙØ¸ Ø®Ø·Ø© Ø±Ø­Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­!');
            }

            // Add styles for the planning section
            const planningStyles = document.createElement('style');
            planningStyles.textContent = '.plan-container {' +
                'max-width: 800px;' +
                'margin: 0 auto;' +
                'padding: 20px;' +
                'background: #f9f9f9;' +
                'border-radius: 15px;' +
                'box-shadow: 0 4px 12px rgba(0,0,0,0.05);' +
            '}' +
            '.question-box {' +
                'background: #fff;' +
                'border-radius: 15px;' +
                'padding: 25px;' +
                'margin: 15px 0;' +
                'box-shadow: 0 2px 8px rgba(0,0,0,0.08);' +
                'transition: transform 0.3s ease;' +
            '}' +
            '.question-box:hover {' +
                'transform: translateY(-2px);' +
            '}' +
            '.question-box h3 {' +
                'color: #2c3e50;' +
                'margin-bottom: 15px;' +
                'font-size: 1.2em;' +
            '}' +
            '.options-container {' +
                'display: flex;' +
                'flex-wrap: wrap;' +
                'gap: 12px;' +
                'margin-top: 15px;' +
            '}' +
            '.option-button {' +
                'padding: 10px 20px;' +
                'border: 2px solid #e0e0e0;' +
                'border-radius: 25px;' +
                'background: #fff;' +
                'cursor: pointer;' +
                'transition: all 0.3s ease;' +
                'font-size: 0.95em;' +
                'color: #444;' +
            '}' +
            '.option-button:hover {' +
                'background: #f5f5f5;' +
                'transform: translateY(-1px);' +
            '}' +
            '.option-button.selected {' +
                'background: #2ecc71;' +
                'color: white;' +
                'border-color: #27ae60;' +
                'box-shadow: 0 2px 4px rgba(46,204,113,0.2);' +
            '}' +
            '.input-field {' +
                'width: 100%;' +
                'padding: 12px;' +
                'margin: 8px 0;' +
                'border: 2px solid #e0e0e0;' +
                'border-radius: 8px;' +
                'font-size: 1em;' +
                'transition: border-color 0.3s ease;' +
            '}' +
            '.input-field:focus {' +
                'border-color: #3498db;' +
                'outline: none;' +
            '}' +
            '.plan-detail-item {' +
                'background: #fff;' +
                'padding: 20px;' +
                'margin: 15px 0;' +
                'border-radius: 12px;' +
                'box-shadow: 0 2px 10px rgba(0,0,0,0.05);' +
                'transition: transform 0.3s ease;' +
            '}' +
            '.plan-detail-item:hover {' +
                'transform: translateY(-2px);' +
            '}' +
            '.plan-detail-item h3 {' +
                'color: #2c3e50;' +
                'margin-bottom: 15px;' +
                'font-size: 1.3em;' +
                'border-bottom: 2px solid #e0e0e0;' +
                'padding-bottom: 10px;' +
            '}' +
            '.plan-detail-item ul {' +
                'list-style-type: none;' +
                'padding: 0;' +
                'margin: 0;' +
            '}' +
            '.plan-detail-item li {' +
                'padding: 10px 15px;' +
                'margin: 5px 0;' +
                'background: #f8f9fa;' +
                'border-radius: 8px;' +
                'display: flex;' +
                'align-items: center;' +
                'gap: 10px;' +
            '}' +
            '.plan-detail-item li::before {' +
                'content: "ğŸ¯";' +
                'margin-left: 5px;' +
            '}' +
            '.plan-detail-item.tips {' +
                'background: #e8f5e9;' +
                'border-right: 4px solid #2ecc71;' +
            '}' +
            '.plan-detail-item.tips h3 {' +
                'color: #2ecc71;' +
                'border-bottom-color: #a5d6a7;' +
            '}' +
            '.plan-detail-item.tips p {' +
                'color: #2c3e50;' +
                'line-height: 1.6;' +
                'margin: 0;' +
            '}' +
            '.plan-detail-item.tips p::before {' +
                'content: "ğŸ’¡";' +
                'margin-left: 8px;' +
            '}' +
            '#startPlanningBtn {' +
                'background: linear-gradient(45deg, #2ecc71, #27ae60);' +
                'color: white;' +
                'border: none;' +
                'padding: 15px 30px;' +
                'border-radius: 25px;' +
                'font-size: 1.1em;' +
                'cursor: pointer;' +
                'transition: transform 0.3s ease, box-shadow 0.3s ease;' +
                'box-shadow: 0 4px 15px rgba(46,204,113,0.2);' +
                'display: block;' +
                'margin: 20px auto;' +
                'width: fit-content;' +
            '}' +
            '#startPlanningBtn:hover {' +
                'transform: translateY(-2px);' +
                'box-shadow: 0 6px 20px rgba(46,204,113,0.3);' +
            '}' +
            '#savePlanBtn {' +
                'background: linear-gradient(45deg, #3498db, #2980b9);' +
                'color: white;' +
                'border: none;' +
                'padding: 12px 25px;' +
                'border-radius: 20px;' +
                'font-size: 1em;' +
                'cursor: pointer;' +
                'transition: transform 0.3s ease, box-shadow 0.3s ease;' +
                'box-shadow: 0 4px 15px rgba(52,152,219,0.2);' +
                'display: block;' +
                'margin: 20px auto;' +
                'width: fit-content;' +
            '}' +
            '#savePlanBtn:hover {' +
                'transform: translateY(-2px);' +
                'box-shadow: 0 6px 20px rgba(52,152,219,0.3);' +
            '}' +
            '.time-slot {' +
                'color: #e67e22;' +
                'font-weight: bold;' +
                'margin-left: 5px;' +
            '}' +
            '.meal-suggestion {' +
                'background: #fff3e0 !important;' +
                'border-right: 4px solid #e67e22;' +
            '}' +
            '.meal-suggestion::before {' +
                'content: "ğŸ½ï¸" !important;' +
            '}' +
            '.day-header {' +
                'background: #2c3e50;' +
                'color: white;' +
                'padding: 12px 20px;' +
                'border-radius: 8px;' +
                'margin: 20px 0 15px 0;' +
                'font-size: 1.2em;' +
                'display: flex;' +
                'align-items: center;' +
                'gap: 10px;' +
            '}' +
            '.day-header::before {' +
                'content: "ğŸ“…";' +
            '}';
            document.head.appendChild(planningStyles);
        }

        document.addEventListener('DOMContentLoaded', loadCityDetails);

        // Handle dark mode
        const darkToggle = document.getElementById('darkModeToggle');
        if (darkToggle) {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark');
                darkToggle.textContent = 'ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±';
            }
            
            darkToggle.onclick = function() {
                document.body.classList.toggle('dark');
                darkToggle.textContent = document.body.classList.contains('dark') ? 'ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±' : 'Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ';
                localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
            };
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Check if we should scroll to planning section
            if (window.location.hash === '#planSection') {
                const planSection = document.getElementById('planSection');
                if (planSection) {
                    setTimeout(() => {
                        planSection.scrollIntoView({ behavior: 'smooth' });
                        // Automatically start planning
                        const startPlanningBtn = document.getElementById('startPlanningBtn');
                        if (startPlanningBtn) {
                            startPlanningBtn.click();
                        }
                    }, 1000); // Delay to ensure content is loaded
                }
            }
        });
    </script>
</body>
</html>